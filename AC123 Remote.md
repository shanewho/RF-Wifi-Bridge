# Emulating the AC123-06D remote with Arduino RF

This remote controls the 433mhz RF roller shade motor from AOK.

## Protocol

- 2 sync bits
- 64 data bits
- Pulse length: 290
- First sync bit: `580,5220`
- Second sync bit: `5220,580`
- 0 = 290,580
- 1 = 580,290

```
{
  290,
  { 2, 17 }, # 1st sync bit
  { 17, 2 }, # 2nd sync bit (rc-switch is not compatible with this)
  { 1, 2 },
  { 2, 1 },
  false 
}
```

### Sample codes
(1d is Channel 1, down. 2d channel 2, down. etc. u = up, s = stop)

```
1d 1010001111000111001111111001001100000001000000000 100001111 011101
2d 1010001111000111001111111001001100000010000000000 100001111 011110
3d 1010001111000111001111111001001100000100000000000 100001111 100000
4d 1010001111000111001111111001001100001000000000000 100001111 100100
5d 1010001111000111001111111001001100010000000000000 100001111 101100
6d 1010001111000111001111111001001100100000000000000 100001111 111100
ad 1010001111000111001111111001001100111111000000000 100001100 011011 

1d 1010001111000111001111111001001100000001000000000 100001111 011101
1u 1010001111000111001111111001001100000001000000000 000101110 100101
1s 1010001111000111001111111001001100000001000000000 010001110 111101

6s 1010001111000111001111111001001100100000000000000 010001111 011100
5s 1010001111000111001111111001001100010000000000000 010001111 001100
4s 1010001111000111001111111001001100001000000000000 010001111 000100
3s 1010001111000111001111111001001100000100000000000 010001111 000000 

                                     channel bits    action                          
                                     xxxxxx          xxxxxxxxx                     
1d 1010001111000111001111111001001100000001000000000 100001111 011101
```

To convert the above codes to 433mhz signal timings:

Replace 0 with `290,580,`
Replace 1 with `580,290,`

Then prepend the sync bits: `580,5220,5220,580`

### Example

Living room down
```
1010001111000111001111111001001100000001000000000100001111011101
```

Becomes
```
580,5220,5220,580,580,290,290,580,580,290,240,580,290,580,290,580,580,290,580,290,580,290,580,290,290,580,290,580,290,580,580,290,580,290,580,290,290,580,290,580,580,290,580,290,580,290,580,290,580,290,580,290,580,290,290,580,290,580,580,290,290,580,290,580,580,290,580,290,290,580,244,580,290,580,290,580,290,580,290,580,290,580,580,290,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,580,290,290,580,290,580,290,580,290,580,580,290,580,290,580,290,580,290,290,580,580,290,580,290,580,290,290,580,580,290
```

Sample timings:

```
// Channel 1 UP
// 580,5220,5220,580,580,290,290,580,580,290,290,580,290,580,290,580,580,290,580,290,580,290,580,290,290,580,290,580,290,580,580,290,580,290,580,290,290,580,290,580,580,290,580,290,580,290,580,290,580,290,580,290,580,290,290,580,290,580,580,290,290,580,290,580,580,290,580,290,290,580,290,580,290,580,290,580,290,580,290,580,290,580,580,290,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,580,290,290,580,580,290,580,290,580,290,290,580,580,290,290,580,290,580,580,290,290,580,580,290,

// Channel 1 DOWN
// 580,5220,5220,580,580,290,290,580,580,290,240,580,290,580,290,580,580,290,580,290,580,290,580,290,290,580,290,580,290,580,580,290,580,290,580,290,290,580,290,580,580,290,580,290,580,290,580,290,580,290,580,290,580,290,290,580,290,580,580,290,290,580,290,580,580,290,580,290,290,580,244,580,290,580,290,580,290,580,290,580,290,580,580,290,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,580,290,290,580,290,580,290,580,290,580,580,290,580,290,580,290,580,290,290,580,580,290,580,290,580,290,290,580,580,290, 

// Channel 2 up
// 580,5220,5220,580,580,290,290,580,580,290,290,580,290,580,290,580,580,290,580,290,580,290,580,290,290,580,290,580,290,580,580,290,580,290,580,290,290,580,290,580,580,290,580,290,580,290,580,290,580,290,580,290,580,290,290,580,290,580,580,290,290,580,290,580,580,290,580,290,290,580,290,580,290,580,290,580,290,580,290,580,580,290,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,580,290,290,580,580,290,580,290,580,290,290,580,580,290,290,580,290,580,580,290,580,290,290,580,

// Channel 2 down
// 580,5220,5220,580,580,290,290,580,580,290,290,580,290,580,290,580,580,290,580,290,580,290,580,290,290,580,290,580,290,580,580,290,580,290,580,290,290,580,290,580,580,290,580,290,580,290,580,290,580,290,580,290,580,290,290,580,290,580,580,290,290,580,290,580,580,290,580,290,290,580,290,580,290,580,290,580,290,580,290,580,580,290,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,580,290,290,580,290,580,290,580,290,580,580,290,580,290,580,290,580,290,290,580,580,290,580,290,580,290,580,290,290,580,

// Channel 3 UP
// 580,5220,5220,580,580,290,290,580,580,290,290,580,290,580,290,580,580,290,580,290,580,290,580,290,290,580,290,580,290,580,580,290,580,290,580,290,290,580,290,580,580,290,580,290,580,290,580,290,580,290,580,290,580,290,290,580,290,580,580,290,290,580,290,580,580,290,580,290,290,580,290,580,290,580,290,580,290,580,580,290,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,580,290,290,580,580,290,580,290,580,290,290,580,580,290,290,580,580,290,290,580,290,580,290,580,

// Channel 3 DOWN 
// 580,5220,5220,580,580,290,290,580,580,290,290,580,290,580,290,580,580,290,580,290,580,290,580,290,290,580,290,580,290,580,580,290,580,290,580,290,290,580,290,580,580,290,580,290,580,290,580,290,580,290,580,290,580,290,290,580,290,580,580,290,290,580,290,580,580,290,580,290,290,580,290,580,290,580,290,580,290,580,580,290,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,580,290,290,580,290,580,290,580,290,580,580,290,580,290,580,290,580,290,580,290,290,580,290,580,290,580,290,580,290,580,

// All UP
// 5220,5220,580,580,290,290,580,580,290,290,580,290,580,290,580,580,290,580,290,580,290,580,290,290,580,290,580,290,580,580,290,580,290,580,290,290,580,290,580,580,290,580,290,580,290,580,290,580,290,580,290,580,290,290,580,290,580,580,290,290,580,290,580,580,290,580,290,290,580,290,580,580,290,580,290,580,290,580,290,580,290,580,290,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,580,290,290,580,580,290,580,290,580,290,580,290,580,290,290,580,290,580,290,580,580,290,580,290,580,

// All DOWN
// 580,5220,5220,580,580,290,290,580,580,290,290,580,290,580,290,580,580,290,580,290,580,290,580,290,290,580,290,580,290,580,580,290,580,290,580,290,290,580,290,580,580,290,580,290,580,290,580,290,580,290,580,290,580,290,290,580,290,580,580,290,290,580,290,580,580,290,580,290,290,580,290,580,580,290,580,290,580,290,580,290,580,290,580,290,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,580,290,290,580,290,580,290,580,290,580,580,290,580,290,290,580,290,580,290,580,580,290,580,290,290,580,580,290,580,290,
```

## Sample Code

```
#define rfOutPin 10

//Channel 1 UP
unsigned int data[] = { 580,5220,5220,580,580,290,290,580,580,290,290,580,290,580,290,580,580,290,580,290,580,290,580,290,290,580,290,580,290,580,580,290,580,290,580,290,290,580,290,580,580,290,580,290,580,290,580,290,580,290,580,290,580,290,290,580,290,580,580,290,290,580,290,580,580,290,580,290,290,580,290,580,290,580,290,580,290,580,290,580,290,580,580,290,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,290,580,580,290,290,580,580,290,580,290,580,290,290,580,580,290,290,580,290,580,580,290,290,580,580,290,0 };

void setup() {
  pinMode(rfOutPin, OUTPUT);
  digitalWrite(rfOutPin, LOW);
}

void loop() {
  sendSignals(data);
  while(true) {} 
}

void sendSignals(const int* values) {
  for (int attempt = 0; attempt < 10; attempt++) {
    int x = 0;
    while(values[x]) {
      digitalWrite(rfOutPin, x % 2 == 0 ? HIGH : LOW);
      delayMicroseconds(values[x]);
      x++;
    }
    digitalWrite(rfOutPin, LOW);
  }
}
```
